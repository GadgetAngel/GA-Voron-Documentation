<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Z Endstop Configuration - </title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Z Endstop Configuration | Gadget Angel Voron Documentation</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Z Endstop Configuration" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Voron Official and Community Documentation" /> <meta property="og:description" content="Voron Official and Community Documentation" /> <link rel="canonical" href="http://localhost:4000/community/howto/120decibell/z_endstop_configuration.html" /> <meta property="og:url" content="http://localhost:4000/community/howto/120decibell/z_endstop_configuration.html" /> <meta property="og:site_name" content="Gadget Angel Voron Documentation" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Z Endstop Configuration" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Voron Official and Community Documentation","headline":"Z Endstop Configuration","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/images/voron_design_logo.png"}},"url":"http://localhost:4000/community/howto/120decibell/z_endstop_configuration.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Voron Documentation</a></li><li class="nav-list-item"><a href="http://localhost:4000/about.html" class="nav-list-link">About Voron</a></li><li class="nav-list-item"><a href="http://localhost:4000/hardware.html" class="nav-list-link">Choosing a Printer / Extruder</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/sourcing.html" class="nav-list-link">Sourcing Information</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/materials.html" class="nav-list-link">Materials Selection</a></li><li class="nav-list-item "><a href="http://localhost:4000/sourcing_faq.html" class="nav-list-link">Sourcing / Buying FAQ</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/build/" class="nav-list-link">The Build</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/build/mechanical/" class="nav-list-link">Mechanical Assembly</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/build/electrical/" class="nav-list-link">Electrical Wiring</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/build/software/" class="nav-list-link">Software Installation</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/build/software/installing_mainsail.html" class="nav-list-link">Installing Mainsail</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/build/software/installing_fluidd.html" class="nav-list-link">Installing Fluidd</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/build/software/installing_octoprint.html" class="nav-list-link">Installing Octoprint</a> </li></ul></li><li class="nav-list-item "><a href="http://localhost:4000/build/software/configuration.html" class="nav-list-link">Software Configuration</a></li><li class="nav-list-item "><a href="http://localhost:4000/build/startup/" class="nav-list-link">Initial Startup</a></li><li class="nav-list-item "><a href="http://localhost:4000/build/slicer/" class="nav-list-link">Slicer Setup</a></li><li class="nav-list-item "><a href="http://localhost:4000/build/slicer/first_print.html" class="nav-list-link">First Print</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/tuning/" class="nav-list-link">Tuning Guides</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/tuning/secondary_printer_tuning.html" class="nav-list-link">Secondary Printer Tuning</a></li><li class="nav-list-item "><a href="http://localhost:4000/tuning/filament_tuning.html" class="nav-list-link">Filament Tuning</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/maintenance.html" class="nav-list-link">Maintenance Guide</a></li><li class="nav-list-item"><a href="http://localhost:4000/history.html" class="nav-list-link">Voron History</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/community/" class="nav-list-link">Community Documentation</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/community/howto/" class="nav-list-link">How-To's</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/troubleshooting/" class="nav-list-link">Troubleshooting</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/electronics/" class="nav-list-link">Alternate Electronics</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/macros/" class="nav-list-link">Custom Macros</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/video_guides.html" class="nav-list-link">Video Guides</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/resources.html" class="nav-list-link">Other Resources</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/support/submission_information.html" class="nav-list-link">Community Submission Information</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/support/pull_request_guide.html" class="nav-list-link">Pull Request Guide</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search " aria-label="Search " autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/GadgetAngel/GA-Voron-Documentation" class="site-button" > Voron Documentation on GitHub </a> </li> <li class="aux-nav-list-item"> <a href="https://gadgetangel.org" class="site-button" > VoronDesign Home </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <p>Setting the Z offset is a a key step in the process of configuring and tuning any FDM printer. Because of how the V2 is designed, this process may be slightly different than most other printers. The Z endstop sensor is a mechanical switch that is located at the back / top edge of the base plate. The switch activation is extended to an approximate level of the bed by an extension made of 5mm rod. This physical switch is used instead of the inductive probe for consistency regardless of temperature or variances in nozzle length.</p> <p><img src="/community/howto/120decibell/images/v2_z_endstop_location.png" alt="" /></p> <p><img src="/community/howto/120decibell/images/v2_z_endstop_nozzle.png" alt="" /></p> <h2 id="tools-needed"> <a href="#tools-needed" class="anchor-heading" aria-labelledby="tools-needed"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tools Needed: </h2> <ul> <li>Piece of paper -or- 0.1 mm feeler gauge</li> <li>Digital calipers (recommended)</li> </ul> <h2 id="pre-flight"> <a href="#pre-flight" class="anchor-heading" aria-labelledby="pre-flight"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pre-Flight </h2> <p>The Z endstop position value is defined in the printer.cfg file that Klipper reads. It is labeled as “position_endstop” and can be found in the [stepper_z] section of the configuration file.</p> <p>The default for the value for the endstop position is -0.5 as a safety factor to prevent crashing the nozzle into the print surface during initial operations. This value should be set to the exact distance that the z endstop triggers relative to the print surface.</p> <p>The Z endstop position must already be set in Klipper. The endstop much be functioning and trigger appropriately during all homing operations.</p> <p>The Z endstop calibration process can be performed with the printer (both hot end and build surface) either hot or cold. Klipper is written that the Z endstop calibration is performed cold. While it is calibrated using a 0.1 mm gap, it expects movement from thermal expansion to take up that space.</p> <h2 id="initial-calibration"> <a href="#initial-calibration" class="anchor-heading" aria-labelledby="initial-calibration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Initial Calibration </h2> <ol> <li>Decide if the calibration will performed hot or cold. If the calibration is to be performed cold then ensure that the nozzle is completely clean of filament. If you are preforming the calibration hot, then ensure that the build surface has heat soaked and come up to a stable temperature and ceased thermal expansion using the PROBE_ACCURACY macro.</li> <li>Run a G28 to wake up the motion systems.</li> <li>Run a BED_MESH_CLEAR to clear out any bed mesh calibrations that may be loaded. Any offest in the bed mesh will affect the Z positioning.</li> <li>Run a QUAD_GANTRY_LEVEL to level the gantry.</li> <li>Run a G28 again to home and center the nozzle, and establish a new known Z value. The nozzle should be at the center of the bed or at whatever point is used for reference for the bed mesh.</li> <li>Enter the calibration mode by running Z_ENDSTOP_CALIBRATE. The nozzle will to go to an estimated 20mm above the print surface based on the previous value of z_position_endstop.</li> <li>To move the head, run TESTZ Z=(value in mm). A negative value (-) will move the nozzle closer to the print surface and a positive value (+) will move the nozzle away from the print surface.</li> <li>Move the nozzle down until there is noticeable drag on the paper or feeler gauge but is not difficult to move. Adjustments of +/- 0.01mm are not unusual and are noticeable. Adjust until satisfied.</li> <li><strong>If calibrating hot:</strong> Remove the paper or feeler gauge and move the TESTZ down (-) an additional 0.1mm to compensate for the thickness of the paper or feeler gauge.</li> <li>Complete the routine by running ACCEPT, then SAVE_CONFIG.</li> </ol> <h2 id="sanity-check"> <a href="#sanity-check" class="anchor-heading" aria-labelledby="sanity-check"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sanity Check </h2> <ol> <li>The MCUs will reset after a SAVE_CONFIG. Once the MCUs are online run a G28 to re-home. If the process is being done hot be sure to re-enable the heaters, otherwise turn on the bed heat to cause the thermal expansion and allow the bed to heat up sufficiently.</li> <li>Run QUAD_GANTRY_LEVEL again in case your gantry slid down during the reset, and re-home again (G28)</li> <li>Run ‘G90’ to switch to absolute mode.</li> <li>Run ‘G0 Z1’ to move to 1 mm above the print surface. Visually verify that the distance is close to 1mm.</li> <li>Run ‘G0 Z10’, then ‘G0 Z0.2’ to move the nozzle to 0.2 mm above the print surface. The paper or feeler gauge should move underneath with no resistance. If not, go back and check and/or re-run the calibration.</li> <li>Run ‘G0 Z10’, then ‘G0 Z0.1’ to move the nozzle to 0.1 mm above the surface. The paper or feeler gauge should have the same drag as before. If not, go back and check and/or re-run the calibration.</li> <li>Run ‘G0 Z10’, then ‘G0 Z0’ to move the nozzle to touch the surface. The paper or feeler gauge should not be able to go under. If not, go back and check and/or re-run the calibration.</li> </ol> <h2 id="verification"> <a href="#verification" class="anchor-heading" aria-labelledby="verification"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Verification </h2> <ol> <li>Preheat the bed as normal.</li> <li>Load up and begin printing a Voron Cube, preferably with at least 2-3 rounds of a skirt.</li> <li>Just before the first layer completes, cancel the print.</li> <li>After sufficient cooling remove the skirt and first layer.</li> <li>Measure the thickness of the first layer with both the part and the skirt.</li> <li>Compare the measured thickness to the intended thickness of the first layer in the slicer.</li> </ol> <h2 id="printing"> <a href="#printing" class="anchor-heading" aria-labelledby="printing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Printing </h2> <p>Be sure that the nozzle is clean when starting prints. If there is filament stuck to the nozzle during the G28 process, it will cause the Z height to be set incorrectly. A common procedure is to add code to the startup process to run the nozzle across a brush once the nozzle is hot to ensure it is clean, if you have equipped your printer with such things.</p> <h2 id="manual-adjustments"> <a href="#manual-adjustments" class="anchor-heading" aria-labelledby="manual-adjustments"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Manual Adjustments </h2> <p>If desired, the position_endstop can be manually changed in the Klipper printer.cfg. During the SAVE_CONFIG the new value will be written at the bottom of the file on a line starting with #*#. If the value is changed manually, be sure to follow the process in the ‘Sanity Check’ to avoid crashing the nozzle. A larger (or less negative) value of postition_endstop will increase the calculated height of the endstop and make the nozzle closer to the bed. A smaller (or more negative) number will decrease the calculated height of the endstop and make the nozzle farther away. Change this value in very small increments.</p> <p><img src="/community/howto/120decibell/images/v2_z_endstop_positive_endstop_value.png" alt="" /></p> <p><img src="/community/howto/120decibell/images/v2_z_endstop_negative_endstop_value.png" alt="" /></p> <p>The initial Z offset can also be set using gcode or be adjusted using the front panel, typically during the skirt passes, to fine tune the first layer.</p> <p><strong><em>Making the position_endstop value larger / more positive will move the nozzle closer to the print surface.</em></strong></p> <p><strong><em>Making the Z offset value larger / more positive will move the nozzle further from the print surface.</em></strong></p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
