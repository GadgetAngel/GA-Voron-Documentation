<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>MAX31865 PT100 Guide - </title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>MAX31865 PT100 Guide | Gadget Angel Voron Documentation</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="MAX31865 PT100 Guide" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Voron Official and Community Documentation" /> <meta property="og:description" content="Voron Official and Community Documentation" /> <link rel="canonical" href="http://localhost:4000/community/electronics/xbst_/PT100.html" /> <meta property="og:url" content="http://localhost:4000/community/electronics/xbst_/PT100.html" /> <meta property="og:site_name" content="Gadget Angel Voron Documentation" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="MAX31865 PT100 Guide" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Voron Official and Community Documentation","headline":"MAX31865 PT100 Guide","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/images/voron_design_logo.png"}},"url":"http://localhost:4000/community/electronics/xbst_/PT100.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Voron Documentation</a></li><li class="nav-list-item"><a href="http://localhost:4000/about.html" class="nav-list-link">About Voron</a></li><li class="nav-list-item"><a href="http://localhost:4000/hardware.html" class="nav-list-link">Choosing a Printer / Extruder</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/sourcing.html" class="nav-list-link">Sourcing Information</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/materials.html" class="nav-list-link">Materials Selection</a></li><li class="nav-list-item "><a href="http://localhost:4000/sourcing_faq.html" class="nav-list-link">Sourcing / Buying FAQ</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/build/" class="nav-list-link">The Build</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/build/mechanical/" class="nav-list-link">Mechanical Assembly</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/build/electrical/" class="nav-list-link">Electrical Wiring</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/build/software/" class="nav-list-link">Software Installation</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/build/software/installing_mainsail.html" class="nav-list-link">Installing Mainsail</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/build/software/installing_fluidd.html" class="nav-list-link">Installing Fluidd</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/build/software/installing_octoprint.html" class="nav-list-link">Installing Octoprint</a> </li></ul></li><li class="nav-list-item "><a href="http://localhost:4000/build/software/configuration.html" class="nav-list-link">Software Configuration</a></li><li class="nav-list-item "><a href="http://localhost:4000/build/startup/" class="nav-list-link">Initial Startup</a></li><li class="nav-list-item "><a href="http://localhost:4000/build/slicer/" class="nav-list-link">Slicer Setup</a></li><li class="nav-list-item "><a href="http://localhost:4000/build/slicer/first_print.html" class="nav-list-link">First Print</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/tuning/" class="nav-list-link">Tuning Guides</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/tuning/secondary_printer_tuning.html" class="nav-list-link">Secondary Printer Tuning</a></li><li class="nav-list-item "><a href="http://localhost:4000/tuning/filament_tuning.html" class="nav-list-link">Filament Tuning</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/maintenance.html" class="nav-list-link">Maintenance Guide</a></li><li class="nav-list-item"><a href="http://localhost:4000/history.html" class="nav-list-link">Voron History</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/community/" class="nav-list-link">Community Documentation</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/community/howto/" class="nav-list-link">How-To's</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/troubleshooting/" class="nav-list-link">Troubleshooting</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/electronics/" class="nav-list-link">Alternate Electronics</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/macros/" class="nav-list-link">Custom Macros</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/video_guides.html" class="nav-list-link">Video Guides</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/resources.html" class="nav-list-link">Other Resources</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/support/submission_information.html" class="nav-list-link">Community Submission Information</a></li><li class="nav-list-item "><a href="http://localhost:4000/community/support/pull_request_guide.html" class="nav-list-link">Pull Request Guide</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search " aria-label="Search " autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/GadgetAngel/GA-Voron-Documentation" class="site-button" > Voron Documentation on GitHub </a> </li> <li class="aux-nav-list-item"> <a href="https://gadgetangel.org" class="site-button" > VoronDesign Home </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="max31865-pt100-guide"> <a href="#max31865-pt100-guide" class="anchor-heading" aria-labelledby="max31865-pt100-guide"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> MAX31865 PT100 Guide </h1> <h2 id="parts"> <a href="#parts" class="anchor-heading" aria-labelledby="parts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Parts </h2> <ol> <li>PT100 Sensor</li> <li>MAX31865 Board</li> <li>Depending on your config, Dupont Jumper Cables</li> </ol> <h3 id="pt100-sensor-options"> <a href="#pt100-sensor-options" class="anchor-heading" aria-labelledby="pt100-sensor-options"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> PT100 Sensor Options </h3> <p>Many 3D printer part manufacturers (like <a href="https://e3d-online.com/products/pt100-temperature-sensor">E3D</a> or <a href="https://www.aliexpress.com/item/32828593452.html">Trianglelab</a>) sell 2-wire PT100 sensors in the v6 thermistor form factor. You can use these options on most of the hotends we recommend including the v6, Dragon, Dragonfly, Mosquito/Spider, and more.</p> <p>3-wire PT100 sensors are also an option. The advantage with this option is theoretically more accurate readings and reduced fluctuation caused by electrical noise on the readings. These are harder to source, but they can still be found in v6 form factor on <a href="https://www.aliexpress.com/item/32811983096.html">Aliexpress</a>. These will require a different configuration of the jumpers on your MAX31865 boards.</p> <h3 id="max31865-board-options"> <a href="#max31865-board-options" class="anchor-heading" aria-labelledby="max31865-board-options"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> MAX31865 Board Options </h3> <p>The easiest to use option is Ray’s PT100 stick. It slots into a stepstick slot on your SKR board, and the PT100 is connected via the stepper motor connector. This also eliminates the need for jumper cables, so the setup is cleaner, and more reliable (SPI bus doesn’t like traveling on wires) This option is slightly more expensive then Adafruit/Clone/CJMCU option and it is harder to source, but it can be found on <a href="https://www.aliexpress.com/item/1005001698429473.html">Aliexpress</a>, or can be ordered from a PCB manufacturer by providing them the <a href="https://github.com/raymondh2/PT100Stick/tree/master/Production/Gerbers">gerbers</a>.</p> <p>Another option is using an Adafruit/Clone/CJMCU MAX31865 module. These can be found on <a href="https://www.adafruit.com/product/3328">Adafruit’s website</a>, <a href="https://www.aliexpress.com/item/33009505368.html">Aliexpress</a> and many other online stores. The primary difference between the Adafruit/Clone and CJMCU modules is the size (CJMCU is smaller) and the order of the pins.</p> <h2 id="step-1-jumping-pads"> <a href="#step-1-jumping-pads" class="anchor-heading" aria-labelledby="step-1-jumping-pads"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 1: Jumping Pads </h2> <p>This step requires soldering. You need to bridge some pads to configure your MAX31865 board to work with your PT100 sensor. The pads to jump are marked with red rectangles and traces to cut are marked with a red “x”.</p> <h3 id="2-wire-pt100-sensors"> <a href="#2-wire-pt100-sensors" class="anchor-heading" aria-labelledby="2-wire-pt100-sensors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2-Wire PT100 Sensors </h3> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">PT100 Stick</th> <th>Adafruit/Clone</th> <th>CJMCU</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">The PT100 stick now comes pre-configured to work with 2-wire PT100 sensors. You can skip this step.</td> <td><img src="/community/electronics/xbst_/images/PT100_2.jpg" alt="" /></td> <td><img src="/community/electronics/xbst_/images/PT100_3.png" alt="" /></td> </tr> </tbody> </table></div> <h3 id="3-wire-pt100-sensors"> <a href="#3-wire-pt100-sensors" class="anchor-heading" aria-labelledby="3-wire-pt100-sensors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3-Wire PT100 Sensors </h3> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">PT100 Stick</th> <th>Adafruit/Clone</th> <th>CJMCU</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><img src="/community/electronics/xbst_/images/PT100_1.png" alt="" /></td> <td><img src="/community/electronics/xbst_/images/PT100_4.jpg" alt="" /></td> <td><img src="/community/electronics/xbst_/images/PT100_5.png" alt="" /></td> </tr> </tbody> </table></div> <h3 id="4-wire-pt100-sensors"> <a href="#4-wire-pt100-sensors" class="anchor-heading" aria-labelledby="4-wire-pt100-sensors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4-Wire PT100 Sensors </h3> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">PT100 Stick</th> <th>Adafruit/Clone</th> <th>CJMCU</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><img src="/community/electronics/xbst_/images/PT100_6.jpg" alt="" /></td> <td>This module comes pre-configured to work with 4-wire PT100 sensors. You can skip this step.</td> <td>This module comes pre-configured to work with 4-wire PT100 sensors. You can skip this step.</td> </tr> </tbody> </table></div> <h2 id="step-2-soldering-headersterminals"> <a href="#step-2-soldering-headersterminals" class="anchor-heading" aria-labelledby="step-2-soldering-headersterminals"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 2: Soldering Headers/Terminals </h2> <p>This step is self explanatory. Solder the headers and the screw terminals (only on Adafruit/Clone/CJMCU) on your board.</p> <h2 id="step-3-jumpers-on-skr"> <a href="#step-3-jumpers-on-skr" class="anchor-heading" aria-labelledby="step-3-jumpers-on-skr"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 3: Jumpers on SKR </h2> <p>Remove the jumpers marked with green and add jumpers marked with blue.</p> <h3 id="skr-v13"> <a href="#skr-v13" class="anchor-heading" aria-labelledby="skr-v13"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SKR v1.3 </h3> <p><img src="/community/electronics/xbst_/images/pt100_7.jpg" alt="" /></p> <h3 id="skr-v14"> <a href="#skr-v14" class="anchor-heading" aria-labelledby="skr-v14"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SKR v1.4 </h3> <p><img src="/community/electronics/xbst_/images/pt100_8.jpg" alt="" /></p> <h2 id="step-4-wiring"> <a href="#step-4-wiring" class="anchor-heading" aria-labelledby="step-4-wiring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 4: Wiring </h2> <h3 id="pt100-stick"> <a href="#pt100-stick" class="anchor-heading" aria-labelledby="pt100-stick"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> PT100 Stick </h3> <p>Insert your PT100 stick to the E1 stepper driver slot. Pay attention to the orientation. The “EN” pin is marked on the PT100 stick, and it should match the “EN” pin on your board.</p> <p><img src="/community/electronics/xbst_/images/pt100_9.jpg" alt="" /></p> <h3 id="adafruitclone"> <a href="#adafruitclone" class="anchor-heading" aria-labelledby="adafruitclone"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Adafruit/Clone </h3> <p>Connect the SPI pins to the E1 Stepstick Slot:</p> <p><img src="/community/electronics/xbst_/images/pt100_10.jpg" alt="" /></p> <p>Connect VIN (not 3V3) and GND to free 3V3 and GND pins available on your SKR board. Here is a recommendation:</p> <p><img src="/community/electronics/xbst_/images/pt100_12.jpg" alt="" /></p> <h3 id="cjmcu"> <a href="#cjmcu" class="anchor-heading" aria-labelledby="cjmcu"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CJMCU </h3> <p>Connect the SPI pins to the E1 Stepstick Slot:</p> <p><img src="/community/electronics/xbst_/images/pt100_11.jpg" alt="" /></p> <p>Connect VIN (not 3V3) and GND to free 3V3 and GND pins available on your SKR board. Here is a recommendation:</p> <p><img src="/community/electronics/xbst_/images/pt100_12.jpg" alt="" /></p> <h2 id="step-5-wiring-pt100"> <a href="#step-5-wiring-pt100" class="anchor-heading" aria-labelledby="step-5-wiring-pt100"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 5: Wiring PT100 </h2> <ul> <li>For PT100 Stick: Connect to the E1 stepper connector.</li> <li>For Adafruit/Clone/CJMCU: Connect to the screw terminals.</li> </ul> <p><img src="/community/electronics/xbst_/images/PT100_15.jpg" alt="" /></p> <p><em>For 3-Wire sensors, the side you wire 2 wires is the side with the jumped pads marked with 3-wire</em></p> <h2 id="step-6-klipper-configuration"> <a href="#step-6-klipper-configuration" class="anchor-heading" aria-labelledby="step-6-klipper-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 6: Klipper Configuration </h2> <ol> <li>SSH into your rPi and edit your printer.cfg file using nano.</li> <li>Remove any old thermistor configuration under [extruder]. (sensor_type, sensor_pin, etc.)</li> <li>Under [extruder] add these lines:</li> </ol> <div class="table-wrapper"><table> <thead> <tr> <th>SKR v1.3</th> <th>SKR v1.4</th> </tr> </thead> <tbody> <tr> <td>sensor_type: MAX31865<br />sensor_pin: P1.1<br />spi_speed: 4000000<br />spi_software_sclk_pin: P0.4<br />spi_software_mosi_pin: P4.28<br />spi_software_miso_pin: P0.5<br />rtd_nominal_r: 100<br />rtd_reference_r: 430</td> <td>sensor_type: MAX31865<br />sensor_pin: P1.1<br />spi_speed: 4000000<br />spi_software_sclk_pin: P0.4<br />spi_software_mosi_pin: P1.17<br />spi_software_miso_pin: P0.5<br />rtd_nominal_r: 100<br />rtd_reference_r: 430</td> </tr> </tbody> </table></div> <ol> <li> <p>Add this line &amp; edit it for the pt100 sensor you used: <code class="language-plaintext highlighter-rouge">rtd_num_of_wires: 2</code></p> </li> <li> <p>If you are in EU or any 50 Hz country add this line: <code class="language-plaintext highlighter-rouge">rtd_use_50Hz_filter: True</code></p> </li> <li> <p>Save your changes by typing CTRL+X, Y, [ENTER]. Send FIRMWARE_RESTART from the console in Octoprint and test! It should work.</p> </li> <li> <p>Run PID tuning. PT100 readings will be different from your previous thermistor. For the best thermal accuracy, follow this to PID tune:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. Heat your bed to 100C.
2. Move your hothend to the center and 5-10 mm above bed
3. Set fans to 25%: "M106 S64"
4. Run: "PID_CALIBRATE HEATER=extruder TARGET=245"
5. This will run for a few minutes. When finished, save with: "SAVE_CONFIG"
</code></pre></div> </div> </li> </ol> <h2 id="troubleshooting"> <a href="#troubleshooting" class="anchor-heading" aria-labelledby="troubleshooting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Troubleshooting </h2> <ul> <li>ADC_OUT_OF_RANGE <ul> <li>If you never get a reading; check your wiring.</li> <li>If you get this error after some time; first try adding a capacitor (explained below), if it doesn’t help, try shielded wires or a 3-wire sensor.</li> </ul> </li> <li>Under &amp; Over Voltage <ul> <li>Possibly a wiring issue, check wiring, replace with thicker wires if possible.</li> <li>Possibly a software SPI issue, try using a Pi MCU (explained below) for troubleshooting.</li> <li>Possibly electrical noise issue, try adding a capacitor (explained below).</li> <li>If nothing helps, try shielded wires or a 3-wire sensor.</li> </ul> </li> <li>RTD_INPUT_DISCONNECTED <ul> <li>Wiring issue, check your wires.</li> </ul> </li> </ul> <h3 id="adding-a-capacitor"> <a href="#adding-a-capacitor" class="anchor-heading" aria-labelledby="adding-a-capacitor"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Adding a capacitor </h3> <p>All modules in this guide have a 100 nF capacitor on the RTD input, per MAX31865 spec sheet. This is usually enough, but if there is too much electrical noise, adding another capacitor can help filter the noise and prevent reading errors.</p> <p>Add a 100-500 nF capacitor between the - and + RTD wires. Here is an example on the Adafruit board:</p> <p><img src="/community/electronics/xbst_/images/pt100_13.jpg" alt="" /></p> <h3 id="pi-mcu"> <a href="#pi-mcu" class="anchor-heading" aria-labelledby="pi-mcu"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pi MCU </h3> <p>This is not recommended as a permanent solution, but it can be used for troubleshooting.</p> <ol> <li> <p><a href="https://github.com/KevinOConnor/klipper/blob/master/docs/RPi_microcontroller.md">Enable Pi MCU</a></p> </li> <li> <p>Wire according to this diagram:</p> <p><img src="/community/electronics/xbst_/images/PT100_14.png" alt="" /></p> </li> <li> <p>Add at the top of printer.cfg:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[mcu pi]
serial: /tmp/klipper_host_mcu 
</code></pre></div> </div> </li> <li> <p>Replace the MAX31865 lines with these: (change the 50hz filter and wire count according to your setup)</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sensor_type: MAX31865
sensor_pin: pi:gpio22
rtd_nominal_r: 100
rtd_reference_r: 430
rtd_num_of_wires: 2
rtd_use_50Hz_filter: True
</code></pre></div> </div> </li> <li> <p>Do a FIRMWARE_RESTART and test.</p> </li> </ol> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
